---
import Layout from '../../layouts/Layout.astro';
import AdminPanel from '../../components/AdminPanel';
import { getProducts, groupByCategory, getBCVRate } from '../../lib/sheets';

const bcvRate = await getBCVRate();
const products = await getProducts(bcvRate.rate);
const categories = groupByCategory(products);
---

<Layout
  title="Admin - Presupuestos | RPYM"
  description="Panel de administraciÃ³n de presupuestos RPYM"
>
  <AdminPanel categories={categories} bcvRate={bcvRate} client:load />
</Layout>
