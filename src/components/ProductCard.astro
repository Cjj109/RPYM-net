---
import type { Product } from '../lib/sheets';
import { formatPriceUSD, formatPriceBs } from '../lib/sheets';

interface Props {
  product: Product;
}

const { product } = Astro.props;
---

<div
  class={`
    bg-white rounded-xl p-3 md:p-4 shadow-sm border border-ocean-100
    hover:shadow-md hover:border-ocean-200 transition-all duration-300
    ${!product.disponible ? 'opacity-60' : ''}
  `}
>
  <div class="flex items-start justify-between gap-2 md:gap-3">
    <div class="flex-1 min-w-0">
      <h3 class="font-semibold text-ocean-900 text-sm md:text-base leading-tight">
        {product.nombre}
      </h3>
      {product.descripcion && (
        <p class="text-[11px] md:text-xs text-ocean-500 mt-1 line-clamp-2">
          {product.descripcion}
        </p>
      )}
    </div>

    <div class="text-right flex-shrink-0">
      <span class="text-base md:text-lg font-bold text-coral-500">
        {formatPriceUSD(product.precioUSD)}
      </span>
      <span class="text-xs md:text-sm text-ocean-600 block">
        {formatPriceBs(product.precioBs)}
      </span>
      <span class="text-[10px] md:text-xs text-ocean-400 block">
        /{product.unidad}
      </span>
    </div>
  </div>

  {!product.disponible && (
    <span class="inline-block mt-2 text-xs bg-ocean-100 text-ocean-600 px-2 py-0.5 rounded-full">
      No disponible
    </span>
  )}
</div>
